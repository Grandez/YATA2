<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>YATA-Technical-Manual.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown #bookdown:version# and GitBook 2.6.7" />

  <meta property="og:title" content="YATA-Technical-Manual.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="YATA-Technical-Manual.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



</head>

<body>



<!--bookdown:title:start-->
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#shiny"><span class="toc-section-number">0.1</span> Shiny</a></li>
<li><a href="#diseño-de-paginas-layout"><span class="toc-section-number">0.2</span> Diseño de paginas (layout)</a></li>
<li><a href="#paquetes-shiny"><span class="toc-section-number">0.3</span> Paquetes Shiny</a><ul>
<li><a href="#shiny-1"><span class="toc-section-number">0.3.1</span> Shiny</a></li>
</ul></li>
<li><a href="#web"><span class="toc-section-number">1</span> WEB</a><ul>
<li><a href="#tablas-de-datos"><span class="toc-section-number">1.1</span> Tablas de Datos</a></li>
<li><a href="#arquitectura"><span class="toc-section-number">1.2</span> Arquitectura</a></li>
<li><a href="#nomenclatura"><span class="toc-section-number">1.3</span> Nomenclatura</a></li>
<li><a href="#creacion-de-componentes"><span class="toc-section-number">1.4</span> Creacion de componentes</a></li>
</ul></li>
<li><a href="#web-1"><span class="toc-section-number">2</span> WEB</a><ul>
<li><a href="#tablas-de-datos-1"><span class="toc-section-number">2.1</span> Tablas de Datos</a></li>
<li><a href="#arquitectura-1"><span class="toc-section-number">2.2</span> Arquitectura</a></li>
<li><a href="#nomenclatura-1"><span class="toc-section-number">2.3</span> Nomenclatura</a></li>
<li><a href="#creacion-de-componentes-1"><span class="toc-section-number">2.4</span> Creacion de componentes</a></li>
<li><a href="#javascript"><span class="toc-section-number">2.5</span> Javascript</a><ul>
<li><a href="#yata.js"><span class="toc-section-number">2.5.1</span> yata.js</a></li>
<li><a href="#yataapp.js"><span class="toc-section-number">2.5.2</span> YATAApp.js</a></li>
<li><a href="#extendshinyjs"><span class="toc-section-number">2.5.3</span> extendShinyjs</a></li>
</ul></li>
<li><a href="#css"><span class="toc-section-number">2.6</span> CSS</a><ul>
<li><a href="#modulos"><span class="toc-section-number">2.6.1</span> Modulos</a></li>
<li><a href="#cssjavascript"><span class="toc-section-number">2.6.2</span> CSS/Javascript</a></li>
</ul></li>
</ul></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<div id="shiny" class="section level2">
<h2><span class="header-section-number">0.1</span> Shiny</h2>
<!--chapter:end:001-shiny.Rmd-->
</div>
<div id="diseño-de-paginas-layout" class="section level2">
<h2><span class="header-section-number">0.2</span> Diseño de paginas (layout)</h2>
<p>Los bloques que conforman la aplicación Web se asocian con el menú de navegación principal, a su vez, cada bloque puede tener subbloques los cuales se asocian con un menú “superior” secundario el cual, opcionalmente también podría tener otro subbloque al margen de la usabilidad de la usabilidad de esta navegación</p>
<p>Si lo asimilamos a objetos, la estructura es:</p>
<p>XXXX Aqui ponemos la imagen design,uml</p>
<p>Nótese que tanto el contenedor como la pagina puede tener información especifica en los paneles laterales, entendemos que en estos casos el panel lateral del contenedor contiene información que afecta a todas las paginas mientras que los paneles laterales de las páginas contienen información propia de las mismas.</p>
<p>Para gestionar esto, el diseño de la página a nivel contenedor es:</p>
<pre><code>prfx-container
   prfx-container-left
   prfx-container-main
   prfx-container-right</code></pre>
<p>Donde <code>prfx</code> es el id del panel</p>
<p>Para evitar abstracciones y complejidades innecesarias, asumiremos que en tiempo de diseño se conoce si una determinada pagina puede tener un panel lateral con uno o dos componentes, el del “padre” y el propio.</p>
<!--chapter:end:002-design.Rmd-->
</div>
<div id="paquetes-shiny" class="section level2">
<h2><span class="header-section-number">0.3</span> Paquetes Shiny</h2>
<p>Antes de hablar de <em>Shiny</em> y de sus características debemos detenernos brevemente en comprender que es una página Web.</p>
<p>De manera general, y esto aplica a todas las páginas y aplicaciones Web, independientemente del lenguaje utilizado para su generación, una página Web está formada por:</p>
<ol style="list-style-type: decimal">
<li>Una definición de la página, su estructura y componentes de acuerdo con un lenguaje de marcado: <strong>HTML</strong> o <strong>XHTML</strong>, el cual define los objetos soportados y sus atributos y propiedades.</li>
<li>Una definición de estilos que definen como se muestran cada uno de los componentes en función, normalmente, de los diseñadores, el sistema sobre el que se muestra la página y los atributos de este.</li>
<li>Un lenguaje de programación: <strong>javascript</strong>, para enriquecer la página con cierto nivel de dinamismo e interacción con el usuario.</li>
</ol>
<p>XXX Ampliar esto para indicar que a partir de esta base se pueden construir widgets y casi cualquier cosa XXX</p>
<div id="shiny-1" class="section level3">
<h3><span class="header-section-number">0.3.1</span> Shiny</h3>
<p><em>Shiny</em> está basado en <em>Boostrap</em>, un <em>front-end</em> que ya ofrece <em>out-of-the-box</em> muchos componentes o <em>widgets</em> ya preparados para la creación de la página web.</p>
<p>y ofrece una funcionalidad “suficiente” para la mayoria de las páginas Web dinámicas.</p>
<p>Sobre <em>Shiny</em> se han construido una multitud de paquetes que permiten un <em>look and feel</em> mas sofisticado. El problema viene cuando se empiezan a mezclar dos o mas de esos paquetes, por ejemplo, shinydashboardplus y shinywidgets, el primero depende de shinydashboard con lo que tenemos tres paquetes cargados con su correspondientes estilos y codigo javascript, lo cual, dependiendo de la calidad y del estilo de cada paquete puede dar lugar a conflictos de nombres, reduccion de funcionalidad, etc.</p>
<p>Por otro lado, cada pagina Web la podemos ver como un conjunto de widgets mas o menos complejos</p>
<p>El sistema utiliza el siguiente criterio:</p>
<ul>
<li>Todos los componentes Web estan encapsulados en una parte de diseño y otro de servidor para interactuar con el</li>
<li>Los componentes de diseño se denominan yui_Nombre_</li>
<li>Los componentes de servidor se denominan upd_Nombre_</li>
</ul>
<p>De esta manera, se encapsulan los componentes de los diferentes paquetes y solo existe un punto de cambio para cada widget.
Por ejemplo, hemos elegido utilizar los botones de shinyBS, que usan la funcion bsButton y en los parametros se configura el estilo, tamaño, etc.</p>
<p>Primero creamos un widget yuiButton que encapsula a bsButton.
Creamos un conjunto de <em>wrappers</em> yuiButtonXXX que introducen ciertos parametros por defecto
Cada uno de estos <em>wrappers</em> invoca en ultima instancia a yuiButton que hace la llamada a bsButton.</p>
<p>Si deseamos cambiar los botones de bsButton por otro estilo, basta con modificar la funcion <strong>yuiButton</strong></p>
<!--chapter:end:010-wrappers.Rmd-->
</div>
</div>
<div id="web" class="section level1">
<h1><span class="header-section-number">1</span> WEB</h1>
<p>En esta seccion estan las cosas que se deberian implementar, mejorar, etc.
Cuando alguna de ellas se realice, normalment pasara al apartado de decisiones</p>
<p>(“../images/webpackages.png”)</p>
<div id="tablas-de-datos" class="section level2">
<h2><span class="header-section-number">1.1</span> Tablas de Datos</h2>
<p>La clase base deberia incoprorar metodos para inserta y actualizar datos
Para el Update por ejemplo
update(list(campos), list(where))</p>
</div>
<div id="arquitectura" class="section level2">
<h2><span class="header-section-number">1.2</span> Arquitectura</h2>
<p>La aplicacion Web esta basada en modulos y sub modulos</p>
</div>
<div id="nomenclatura" class="section level2">
<h2><span class="header-section-number">1.3</span> Nomenclatura</h2>
<p>prefijos:</p>
<table>
<colgroup>
<col width="13%" />
<col width="86%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Prefijo</td>
<td>Descripcion</td>
</tr>
<tr class="even">
<td>mod | I
frm | I</td>
<td>ndica que es una pagina de un panel
ndica que es un formulario que se mostrara dentro de un panel</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col width="13%" />
<col width="86%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Sufijo</td>
<td>Descripcion</td>
</tr>
<tr class="even">
<td>Input
Server</td>
<td>Contiene la interfaz de usuario
Contiene el codigo asociado</td>
</tr>
</tbody>
</table>
<p>Los modulos, formularios, etc. <strong>se ejecutan de manera dinamica</strong> por lo que si no se sigue la nomenclatura el sistema fallará.</p>
</div>
<div id="creacion-de-componentes" class="section level2">
<h2><span class="header-section-number">1.4</span> Creacion de componentes</h2>
<!--chapter:end:0501-commarea.Rmd-->
</div>
</div>
<div id="web-1" class="section level1">
<h1><span class="header-section-number">2</span> WEB</h1>
<p>En esta seccion estan las cosas que se deberian implementar, mejorar, etc.
Cuando alguna de ellas se realice, normalment pasara al apartado de decisiones</p>
<div id="imageswebpackages.png" class="section level5">
<h5><span class="header-section-number">2.0.0.0.1</span> (“../images/webpackages.png”)</h5>
</div>
<div id="tablas-de-datos-1" class="section level2">
<h2><span class="header-section-number">2.1</span> Tablas de Datos</h2>
<p>La clase base deberia incoprorar metodos para inserta y actualizar datos
Para el Update por ejemplo
update(list(campos), list(where))</p>
</div>
<div id="arquitectura-1" class="section level2">
<h2><span class="header-section-number">2.2</span> Arquitectura</h2>
<p>La aplicacion Web esta basada en modulos y sub modulos</p>
</div>
<div id="nomenclatura-1" class="section level2">
<h2><span class="header-section-number">2.3</span> Nomenclatura</h2>
<p>prefijos:</p>
<table>
<colgroup>
<col width="13%" />
<col width="86%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Prefijo</td>
<td>Descripcion</td>
</tr>
<tr class="even">
<td>mod | I
frm | I</td>
<td>ndica que es una pagina de un panel
ndica que es un formulario que se mostrara dentro de un panel</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col width="13%" />
<col width="86%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Sufijo</td>
<td>Descripcion</td>
</tr>
<tr class="even">
<td>Input
Server</td>
<td>Contiene la interfaz de usuario
Contiene el codigo asociado</td>
</tr>
</tbody>
</table>
<p>Los modulos, formularios, etc. <strong>se ejecutan de manera dinamica</strong> por lo que si no se sigue la nomenclatura el sistema fallará.</p>
</div>
<div id="creacion-de-componentes-1" class="section level2">
<h2><span class="header-section-number">2.4</span> Creacion de componentes</h2>
<!--chapter:end:0501-web.Rmd-->
</div>
<div id="javascript" class="section level2">
<h2><span class="header-section-number">2.5</span> Javascript</h2>
<p>Tenemos varios tipo de código javascript:</p>
<ul>
<li>Código que se debe ejecutar al cargar la pagina</li>
<li>Propio para el funcionamiento de la pagina</li>
<li>Mensajes personalizados para la comunicación shiny/web</li>
<li>Mensajes para enviar notificaciones al servidor</li>
<li>Funciones que resultan “natural” que estén integradas con shiny</li>
</ul>
<div id="yata.js" class="section level3">
<h3><span class="header-section-number">2.5.1</span> yata.js</h3>
<p>Este módulo tiene por función ejecutarse cada vez que se carga la página.
Su función es inicializar el entorno y se debe ejecutar cuando la página está cargada; dicho de otro modo, el código debe incluirse al final de la pagina</p>
<p><strong>importante</strong> es donde debe instanciarse el objeto YATAApp como YATA</p>
</div>
<div id="yataapp.js" class="section level3">
<h3><span class="header-section-number">2.5.2</span> YATAApp.js</h3>
<p>Este módulo define la clase <code>YATAApp</code> que contiene el código específico de la aplicación.
Para evitar problemas de nombres, todo nuestro código se encapsula en esta clase y se instancia con el nombre fijo <strong>YATA</strong></p>
<p>En caso de necesitar utilizar otro nombre, por el motivo que sea, es necesario:</p>
<ol style="list-style-type: decimal">
<li>Modificar el modulo <code>yata.js</code> instanciando la clase con el objeto deseado</li>
<li>Modificar la constante <code>YATAWEBDEF$jsapp</code> con el nuevo valor</li>
<li>Regenerar los paquetes: <code>YATAWebCore</code></li>
</ol>
</div>
<div id="extendshinyjs" class="section level3">
<h3><span class="header-section-number">2.5.3</span> extendShinyjs</h3>
<p>Esta función permite integrar nuestras propias funciones javascript en el objeto <code>js</code> de shiny.</p>
<p>La información de uso esta disponible en <a href="https://www.rdocumentation.org/packages/shinyjs/versions/2.0.0/topics/extendShinyjs">extendShinyjs</a></p>
<!--chapter:end:900-js.Rmd-->
</div>
</div>
<div id="css" class="section level2">
<h2><span class="header-section-number">2.6</span> CSS</h2>
<p>XXX</p>
<div id="modulos" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Modulos</h3>
<p>yataAdminLTE.css esta sobreescrito</p>
</div>
<div id="cssjavascript" class="section level3">
<h3><span class="header-section-number">2.6.2</span> CSS/Javascript</h3>
<p>Estas clases se usan en el código javascript:</p>
<ul>
<li><strong>yata_leftside_open</strong></li>
<li><strong>yata_leftside_closed</strong></li>
<li><strong>yata_side_closed</strong> Gestiona la visibilidad del indicador de panel lateral</li>
<li><strong>yata_side_noside</strong> Gestiona la visibilidad del indicador de panel lateral</li>
</ul>
<!--chapter:end:901-css.Rmd-->
</div>
</div>
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

</body>

</html>
