<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.3 Implementacion | YATA Technical Manual</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5.3 Implementacion | YATA Technical Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.3 Implementacion | YATA Technical Manual" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Javier Gonzalez" />


<meta name="date" content="2021-02-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="menus-laterales.html"/>
<link rel="next" href="tema.html"/>
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="assets/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="notas-e-ideas.html"><a href="notas-e-ideas.html"><i class="fa fa-check"></i><b>2</b> Notas e ideas</a><ul>
<li class="chapter" data-level="2.1" data-path="blog.html"><a href="blog.html"><i class="fa fa-check"></i><b>2.1</b> Blog</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="pares.html"><a href="pares.html"><i class="fa fa-check"></i><b>3</b> Pares</a></li>
<li class="chapter" data-level="4" data-path="web.html"><a href="web.html"><i class="fa fa-check"></i><b>4</b> WEB</a><ul>
<li class="chapter" data-level="4.1" data-path="tablas-de-datos.html"><a href="tablas-de-datos.html"><i class="fa fa-check"></i><b>4.1</b> Tablas de Datos</a></li>
<li class="chapter" data-level="4.2" data-path="arquitectura.html"><a href="arquitectura.html"><i class="fa fa-check"></i><b>4.2</b> Arquitectura</a></li>
<li class="chapter" data-level="4.3" data-path="nomenclatura.html"><a href="nomenclatura.html"><i class="fa fa-check"></i><b>4.3</b> Nomenclatura</a></li>
<li class="chapter" data-level="4.4" data-path="creacion-de-componentes.html"><a href="creacion-de-componentes.html"><i class="fa fa-check"></i><b>4.4</b> Creacion de componentes</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="diseño-web.html"><a href="diseño-web.html"><i class="fa fa-check"></i><b>5</b> Diseño WEB</a><ul>
<li class="chapter" data-level="5.1" data-path="barra-de-navegacion.html"><a href="barra-de-navegacion.html"><i class="fa fa-check"></i><b>5.1</b> Barra de navegacion</a></li>
<li class="chapter" data-level="5.2" data-path="menus-laterales.html"><a href="menus-laterales.html"><i class="fa fa-check"></i><b>5.2</b> menus laterales</a></li>
<li class="chapter" data-level="5.3" data-path="implementacion.html"><a href="implementacion.html"><i class="fa fa-check"></i><b>5.3</b> Implementacion</a><ul>
<li class="chapter" data-level="5.3.1" data-path="implementacion.html"><a href="implementacion.html#objetos-panel"><i class="fa fa-check"></i><b>5.3.1</b> Objetos Panel</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tema.html"><a href="tema.html"><i class="fa fa-check"></i><b>6</b> Tema</a></li>
<li class="chapter" data-level="7" data-path="datatable.html"><a href="datatable.html"><i class="fa fa-check"></i><b>7</b> DATATABLE</a><ul>
<li class="chapter" data-level="7.1" data-path="solucion.html"><a href="solucion.html"><i class="fa fa-check"></i><b>7.1</b> Solucion</a></li>
<li class="chapter" data-level="7.2" data-path="samples.html"><a href="samples.html"><i class="fa fa-check"></i><b>7.2</b> Samples</a></li>
<li class="chapter" data-level="7.3" data-path="implementacion-1.html"><a href="implementacion-1.html"><i class="fa fa-check"></i><b>7.3</b> Implementacion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="to-do.html"><a href="to-do.html"><i class="fa fa-check"></i><b>8</b> TO DO</a><ul>
<li class="chapter" data-level="8.1" data-path="tablas-de-datos-1.html"><a href="tablas-de-datos-1.html"><i class="fa fa-check"></i><b>8.1</b> Tablas de Datos</a></li>
<li class="chapter" data-level="8.2" data-path="tablas-html.html"><a href="tablas-html.html"><i class="fa fa-check"></i><b>8.2</b> Tablas HTML</a></li>
<li class="chapter" data-level="8.3" data-path="yatadb.html"><a href="yatadb.html"><i class="fa fa-check"></i><b>8.3</b> YATADB</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">YATA Technical Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="implementacion" class="section level2">
<h2><span class="header-section-number">5.3</span> Implementacion</h2>
<p>El control lo hacemos por javascript directamente y tiene lo siguientes requerimientos:</p>
<ul>
<li>La pestaña tiene uno,dos o ningun submenu</li>
<li>La pestaña activa, considerando que puede haber una profundidad de menu indeterminada</li>
<li>El estado actual de cada panel</li>
<li>Identificar cuando se ha pulsado el boton</li>
<li>Mostrar/ocultar el menu asociado</li>
<li>Mostrar/ocultar el icono</li>
<li>Cambiar el icono</li>
</ul>
<div id="objetos-panel" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Objetos Panel</h3>
<p>Necesitamos crear un objeto que contenga la informacion del panel y su estado.
Como a priori no sabemos cuantos paneles existirán, estos objetos se crearan en el shiny cuando se instancien y se mandaran a la aplicacion.</p>
<p>function Panel(name) {
this.name = name;
this.id = null; // Este seria el id
this.leftSide = false;
this.rightSide = false;
}</p>
<p>Por otro lado, en el objeto YATA deberemos mantener una tabla/mapa para almacenarlos</p>
<p>YATA.vars.panels</p>
<p>y sus funciones asociadas: get y put</p>
<p>Para crear el objeto usaremos la comunicacion entre R y JS:</p>
<p>Esto en el head</p>
<p>Shiny.addCustomMessageHandler(‘setPanel’, function(data) { $.YATA.yataSetPanel(data); }</p>
<p>Esto en el server</p>
<p>session$sendCustomMessage(“setPanel”, datos)</p>
<p>Se supone que sabemos las caracteristicas del panel, asi que enviaremos el mensaje la primera vez que se cargue el panel.</p>
<p><span style="color: red;">Por ahora, la manera mejor parece hacerlo en la clase del panel</span>
aunque puede haber paneles sin objeto de control, en ese caso no se podria saber, pero por otro lado
si cada click de menu envia un mensaje, si el panel no esta registrado, podemos quitar los iconos por defecto</p>
<p>** ES CLAVE QUE EL ID DEL TAB SEA EL ID DEL OBJETO **</p>
<p>Podemos dejar la definicion del panel en la propia clase R6 por ahora</p>
<p>yataApp</p>
<p>** yataTraceMenu <strong>
</strong> yataSetPanel **</p>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="menus-laterales.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tema.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
